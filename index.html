<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <title>PROPONER DIA!</title>
    <style media="screen">
      div.card{

      }
    </style>
  </head>
  <body>
    <h1>Elige tu mejor d√≠a</h1>
    <header>
      <div class="seleccionar" id="seleccion" style="">
        <input id="fecha" type="date" name="date" value=""><br>
        <select id="lugar">
          <option value="Bilbao">Bilbao</option>
          <option value="Santurce">Santurce</option>
          <option value="Portugalete">Portugalete</option>
          <option value="Sestao">Sestao</option>
        </select><br>
        <button id="botonCrear" class="badge badge-primary" type="button" name="button">CREAR</button>
      </div>
    </header>
    <div class="caja">
    </div>
    <div class="contarvotos">

    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript">

    $('button#botonCrear').click(function (event){
    var fecha = $('input#fecha').val();
    var lugar =  $('select#lugar').val();
    console.log(lugar);
      if (!fecha){
        return alert("selecciona la fecha");
      }
      if (!lugar){
        return alert("selecciona lugar");
      }
      $(".caja").append("<div class='card' style='width: 10rem;'><div class='card-body'><h5 class='card-title'>"+ fecha +"</h5><h6 class='card-subtitle mb-2 text-muted'>"+lugar+"</h6><button type='button'class='card-link votar' name='button'>votar</button><h2><span>0</span> Votos</h2></div></div>")
      });

$(document).on("click", ".votar", function(event){//para que funciones el boton de la caja
  var span = $(event.currentTarget).next('h2').children('span');//para que detecte el boton de cada caja
  var contador = parseInt(span.text())
  //me busca el siguiente, en este caso el h2, me busca a su hijo, el span (todo lo he metido en el append)
contador++
  console.log(span)
  span.text(contador);
  });
    </script>
  </body>
</html>
